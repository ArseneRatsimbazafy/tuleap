<div id="campaign-list-container">
    <div id="campaign-list-utils">
        <div id="campaign-list-utils-information">
            <h1><span ng-if="milestone.label">{{ milestone.label }} - </span><span translate>Campaigns list</span></h1>
            <button type="button" class="btn btn-primary" ng-click="openNewCampaignModal()" translate>
                <i class="icon-plus"></i> New campaign
            </button>
        </div>
        <input type="text" class="filter" placeholder="{{ 'Filter...' | translate }}" ng-model="search">
    </div>

    <div id="campaign-list-content">
        <div ng-repeat="campaign in filtered_campaigns
                | InPropertiesFilter:search:['label', 'status']
                | orderBy:'id':true
                track by $index"
        >
            <div id="campaign-list-content-label">
                {{ campaign.label }}
            </div>
            <div id="campaign-list-content-test-progression">
                <div id="campaign-list-content-test-progression-label">
                    <span translate>Tests Progression</span>
                </div>
                <div id="campaign-list-content-test-progression-bar">
                    <div class="sense-of-progress-passed" style="width: {{ campaign.nb_of_passed * 100 / campaign.total }}%" ng-if="campaign.nb_of_passed">
                        <span>{{ campaign.nb_of_passed }}</span>
                        <div></div>
                    </div>
                    <div class="sense-of-progress-failed" style="width: {{ campaign.nb_of_failed * 100 / campaign.total }}%" ng-if="campaign.nb_of_failed">
                        <span>{{ campaign.nb_of_failed }}</span>
                        <div></div>
                    </div>
                    <div class="sense-of-progress-blocked" style="width: {{ campaign.nb_of_blocked * 100 / campaign.total }}%" ng-if="campaign.nb_of_blocked">
                        <span>{{ campaign.nb_of_blocked }}</span>
                        <div></div>
                    </div>
                    <div class="sense-of-progress-notrun" style="width: {{ campaign.nb_of_notrun * 100 / campaign.total }}%" ng-if="campaign.nb_of_notrun">
                        <span>{{ campaign.nb_of_notrun }}</span>
                        <div></div>
                    </div>
                </div>
            </div>
            <div id="campaign-list-content-redirection">
                <a ui-sref="campaigns.executions({ id: campaign.id })" translate><i class="icon-list"></i> Tests list</a>
            </div>
        </div>
    </div>

    <div class="no-campaigns" ng-if="shouldShowNoCampaigns() || shouldShowNoOpenCampaigns()">
        <span translate ng-if="shouldShowNoCampaigns()">There are no campaigns</span>
        <span translate ng-if="shouldShowNoOpenCampaigns()">There are no open campaigns</span>
    </div>

    <div id="campaign-list-content-load">
        <a ng-if="has_closed_campaigns && closed_campaigns_hidden" ng-click="showClosedCampaigns()" translate>Load closed campaigns </a>
        <a ng-if="! closed_campaigns_hidden" ng-click="hideClosedCampaigns()" translate>Hide closed campaigns </a>
    </div>

    <img src="scripts/angular/bin/assets/loader.gif" ng-if="loading" class="loader">
</div>
